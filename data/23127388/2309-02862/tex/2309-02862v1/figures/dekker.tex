\begin{figure}
\centering
\begin{tikzpicture}[xscale=1,yscale=-1]

    \node at (-2, 0) {$\process^1$:};
    \node at ( 4, 0) {$\process^2$:};

    \node (q1) at (0, 0) {$\state_1$};
    \node (q2) at (0, 1) {$\state_2$};
    \node (q3) at (0, 2) {$\state_3$};
    \node (r1) at (6, 0) {$\rstate_1$};
    \node (r2) at (6, 1) {$\rstate_2$};
    \node (r3) at (6, 2) {$\rstate_3$};

    \draw[->] (q1) -- node[right] {$\wr(\xvar, 1)$} (q2);
    \draw[->] (q2) -- node[right] {$\rd(\yvar, 0)$} (q3);
    \draw[->] (r1) -- node[right] {$\wr(\yvar, 1)$} (r2);
    \draw[->] (r2) -- node[right] {$\rd(\xvar, 0)$} (r3);

\end{tikzpicture}
\caption{A concurrent program $\program = \tuple{\process^1, \process^2}$ modelling (a simplified version of) the Dekker protocol.}
\label{fig:dekker}
\end{figure}